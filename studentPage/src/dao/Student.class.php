<?php

/**
 *  This is auto generated by PHP5 Tools based on the Database Schema.
 *  Author : MahiShimi PHP5 Tools version 1.1
 *  Project : Cambridge
 *  Last Updated : Wed 06th Feb,2013 07:10 am
 *  Table Name : students
 *  Modifier : This Db tool is currently modified by Maheshwaran Varghese on 10th August 2011
 */
class Student
{
    public $id;
    public $admission_no;
    public $class_roll_no;
    public $admission_date;
    public $first_name;
    public $middle_name;
    public $last_name;
    public $batch_id;
    public $date_of_birth;
    public $gender;
    public $blood_group;
    public $birth_place;
    public $nationality_id;
    public $language;
    public $religion;
    public $student_category_id;
    public $address_line1;
    public $address_line2;
    public $city;
    public $state;
    public $pin_code;
    public $country_id;
    public $phone1;
    public $phone2;
    public $email;
    public $immediate_contact_id;
    public $is_sms_enabled;
    public $photo_file_name;
    public $photo_content_type;
    public $photo_data;
    public $status_description;
    public $is_active;
    public $is_deleted;
    public $created_at;
    public $updated_at;
    public $has_paid_fees;
    public $photo_file_size;
    public $user_id;
    public $max_order_no;

    //===int(11)===//
    public function getId()
    {
        return $this->id;
    }

    public function setId($id)
    {
        $this->id = $id;
    }

    //===varchar(255)===//
    public function getAdmission_no()
    {
        return $this->admission_no;
    }

    public function setAdmission_no($admission_no)
    {
        $this->admission_no = $admission_no;
    }

    //===varchar(255)===//
    public function getClass_roll_no()
    {
        return $this->class_roll_no;
    }

    public function setClass_roll_no($class_roll_no)
    {
        $this->class_roll_no = $class_roll_no;
    }

    //===date===//
    public function getAdmission_date()
    {
        return $this->admission_date;
    }

    public function setAdmission_date($admission_date)
    {
        $this->admission_date = $admission_date;
    }

    //===varchar(255)===//
    public function getFirst_name()
    {
        return $this->first_name;
    }

    public function setFirst_name($first_name)
    {
        $this->first_name = $first_name;
    }

    //===varchar(255)===//
    public function getMiddle_name()
    {
        return $this->middle_name;
    }

    public function setMiddle_name($middle_name)
    {
        $this->middle_name = $middle_name;
    }

    //===varchar(255)===//
    public function getLast_name()
    {
        return $this->last_name;
    }

    public function setLast_name($last_name)
    {
        $this->last_name = $last_name;
    }

    //===int(11)===//
    public function getBatch_id()
    {
        return $this->batch_id;
    }

    public function setBatch_id($batch_id)
    {
        $this->batch_id = $batch_id;
    }

    //===date===//
    public function getDate_of_birth()
    {
        return $this->date_of_birth;
    }

    public function setDate_of_birth($date_of_birth)
    {
        $this->date_of_birth = $date_of_birth;
    }

    //===varchar(255)===//
    public function getGender()
    {
        return $this->gender;
    }

    public function setGender($gender)
    {
        $this->gender = $gender;
    }

    //===varchar(255)===//
    public function getBlood_group()
    {
        return $this->blood_group;
    }

    public function setBlood_group($blood_group)
    {
        $this->blood_group = $blood_group;
    }

    //===varchar(255)===//
    public function getBirth_place()
    {
        return $this->birth_place;
    }

    public function setBirth_place($birth_place)
    {
        $this->birth_place = $birth_place;
    }

    //===int(11)===//
    public function getNationality_id()
    {
        return $this->nationality_id;
    }

    public function setNationality_id($nationality_id)
    {
        $this->nationality_id = $nationality_id;
    }

    //===varchar(255)===//
    public function getLanguage()
    {
        return $this->language;
    }

    public function setLanguage($language)
    {
        $this->language = $language;
    }

    //===varchar(255)===//
    public function getReligion()
    {
        return $this->religion;
    }

    public function setReligion($religion)
    {
        $this->religion = $religion;
    }

    //===int(11)===//
    public function getStudent_category_id()
    {
        return $this->student_category_id;
    }

    public function setStudent_category_id($student_category_id)
    {
        $this->student_category_id = $student_category_id;
    }

    //===varchar(255)===//
    public function getAddress_line1()
    {
        return $this->address_line1;
    }

    public function setAddress_line1($address_line1)
    {
        $this->address_line1 = $address_line1;
    }

    //===varchar(255)===//
    public function getAddress_line2()
    {
        return $this->address_line2;
    }

    public function setAddress_line2($address_line2)
    {
        $this->address_line2 = $address_line2;
    }

    //===varchar(255)===//
    public function getCity()
    {
        return $this->city;
    }

    public function setCity($city)
    {
        $this->city = $city;
    }

    //===varchar(255)===//
    public function getState()
    {
        return $this->state;
    }

    public function setState($state)
    {
        $this->state = $state;
    }

    //===varchar(255)===//
    public function getPin_code()
    {
        return $this->pin_code;
    }

    public function setPin_code($pin_code)
    {
        $this->pin_code = $pin_code;
    }

    //===int(11)===//
    public function getCountry_id()
    {
        return $this->country_id;
    }

    public function setCountry_id($country_id)
    {
        $this->country_id = $country_id;
    }

    //===varchar(255)===//
    public function getPhone1()
    {
        return $this->phone1;
    }

    public function setPhone1($phone1)
    {
        $this->phone1 = $phone1;
    }

    //===varchar(255)===//
    public function getPhone2()
    {
        return $this->phone2;
    }

    public function setPhone2($phone2)
    {
        $this->phone2 = $phone2;
    }

    //===varchar(255)===//
    public function getEmail()
    {
        return $this->email;
    }

    public function setEmail($email)
    {
        $this->email = $email;
    }

    //===int(11)===//
    public function getImmediate_contact_id()
    {
        return $this->immediate_contact_id;
    }

    public function setImmediate_contact_id($immediate_contact_id)
    {
        $this->immediate_contact_id = $immediate_contact_id;
    }

    //===tinyint(1)===//
    public function getIs_sms_enabled()
    {
        return $this->is_sms_enabled;
    }

    public function setIs_sms_enabled($is_sms_enabled)
    {
        $this->is_sms_enabled = $is_sms_enabled;
    }

    //===varchar(255)===//
    public function getPhoto_file_name()
    {
        return $this->photo_file_name;
    }

    public function setPhoto_file_name($photo_file_name)
    {
        $this->photo_file_name = $photo_file_name;
    }

    //===varchar(255)===//
    public function getPhoto_content_type()
    {
        return $this->photo_content_type;
    }

    public function setPhoto_content_type($photo_content_type)
    {
        $this->photo_content_type = $photo_content_type;
    }

    //===longblob===//
    public function getPhoto_data()
    {
        return $this->photo_data;
    }

    public function setPhoto_data($photo_data)
    {
        $this->photo_data = $photo_data;
    }

    //===varchar(255)===//
    public function getStatus_description()
    {
        return $this->status_description;
    }

    public function setStatus_description($status_description)
    {
        $this->status_description = $status_description;
    }

    //===tinyint(1)===//
    public function getIs_active()
    {
        return $this->is_active;
    }

    public function setIs_active($is_active)
    {
        $this->is_active = $is_active;
    }

    //===tinyint(1)===//
    public function getIs_deleted()
    {
        return $this->is_deleted;
    }

    public function setIs_deleted($is_deleted)
    {
        $this->is_deleted = $is_deleted;
    }

    //===datetime===//
    public function getCreated_at()
    {
        return $this->created_at;
    }

    public function setCreated_at($created_at)
    {
        $this->created_at = $created_at;
    }

    //===datetime===//
    public function getUpdated_at()
    {
        return $this->updated_at;
    }

    public function setUpdated_at($updated_at)
    {
        $this->updated_at = $updated_at;
    }

    //===tinyint(1)===//
    public function getHas_paid_fees()
    {
        return $this->has_paid_fees;
    }

    public function setHas_paid_fees($has_paid_fees)
    {
        $this->has_paid_fees = $has_paid_fees;
    }

    //===int(11)===//
    public function getPhoto_file_size()
    {
        return $this->photo_file_size;
    }

    public function setPhoto_file_size($photo_file_size)
    {
        $this->photo_file_size = $photo_file_size;
    }

    //===int(11)===//
    public function getUser_id()
    {
        return $this->user_id;
    }

    public function setUser_id($user_id)
    {
        $this->user_id = $user_id;
    }

    //=== max_order_no ===//
    public function getMax_order_no()
    {
        return $this->max_order_no;
    }

    public function setMax_order_no($max_order_no)
    {
        $this->max_order_no = $max_order_no;
    }

}


// Implement class of Student
class StudentDaoImpl
{
    private $db = null;

    function __construct()
    {
        $this->db = new DBConnection();
    }

    /** SAVE THE Student OBJECT INTO students */
    function saveStudent($student)
    {
        $studentIn = new Student();
        $studentIn = $student;

        $SQL = sprintf("INSERT INTO students(admission_no,class_roll_no,admission_date,first_name,middle_name,last_name,batch_id,date_of_birth,gender,blood_group,birth_place,nationality_id,language,religion,student_category_id,address_line1,address_line2,city,state,pin_code,country_id,phone1,phone2,email,immediate_contact_id,is_sms_enabled,photo_file_name,photo_content_type,photo_data,status_description,is_active,is_deleted,created_at,updated_at,has_paid_fees,photo_file_size,user_id) VALUES('%s','%s','%s','%s','%s','%s',%d,'%s','%s','%s','%s',%d,'%s','%s',%d,'%s','%s','%s','%s','%s',%d,'%s','%s','%s',%d,%d,'%s','%s','%s','%s',%d,%d,'%s','%s',%d,%d,%d)",
            mysql_real_escape_string($studentIn->getAdmission_no()), mysql_real_escape_string($studentIn->getClass_roll_no()), mysql_real_escape_string($studentIn->getAdmission_date()), mysql_real_escape_string($studentIn->getFirst_name()), mysql_real_escape_string($studentIn->getMiddle_name()), mysql_real_escape_string($studentIn->getLast_name()), mysql_real_escape_string($studentIn->getBatch_id()), mysql_real_escape_string($studentIn->getDate_of_birth()), mysql_real_escape_string($studentIn->getGender()), mysql_real_escape_string($studentIn->getBlood_group()), mysql_real_escape_string($studentIn->getBirth_place()), mysql_real_escape_string($studentIn->getNationality_id()), mysql_real_escape_string($studentIn->getLanguage()), mysql_real_escape_string($studentIn->getReligion()), mysql_real_escape_string($studentIn->getStudent_category_id()), mysql_real_escape_string($studentIn->getAddress_line1()), mysql_real_escape_string($studentIn->getAddress_line2()), mysql_real_escape_string($studentIn->getCity()), mysql_real_escape_string($studentIn->getState()), mysql_real_escape_string($studentIn->getPin_code()), mysql_real_escape_string($studentIn->getCountry_id()), mysql_real_escape_string($studentIn->getPhone1()), mysql_real_escape_string($studentIn->getPhone2()), mysql_real_escape_string($studentIn->getEmail()), mysql_real_escape_string($studentIn->getImmediate_contact_id()), mysql_real_escape_string($studentIn->getIs_sms_enabled()), mysql_real_escape_string($studentIn->getPhoto_file_name()), mysql_real_escape_string($studentIn->getPhoto_content_type()), mysql_real_escape_string($studentIn->getPhoto_data()), mysql_real_escape_string($studentIn->getStatus_description()), mysql_real_escape_string($studentIn->getIs_active()), mysql_real_escape_string($studentIn->getIs_deleted()), mysql_real_escape_string($studentIn->getCreated_at()), mysql_real_escape_string($studentIn->getUpdated_at()), mysql_real_escape_string($studentIn->getHas_paid_fees()), mysql_real_escape_string($studentIn->getPhoto_file_size()), mysql_real_escape_string($studentIn->getUser_id()));

        $this->db->executeQuery($SQL);

    }


    /** UPDATE THE TABLE students */
    function updateStudent($student)
    {
        $studentIn = new Student();
        $studentIn = $student;

        $SQL = sprintf("UPDATE students SET admission_no='%s',class_roll_no='%s',admission_date='%s',first_name='%s',middle_name='%s',last_name='%s',batch_id=%d,date_of_birth='%s',gender='%s',blood_group='%s',birth_place='%s',nationality_id=%d,language='%s',religion='%s',student_category_id=%d,address_line1='%s',address_line2='%s',city='%s',state='%s',pin_code='%s',country_id=%d,phone1='%s',phone2='%s',email='%s',immediate_contact_id=%d,is_sms_enabled=%d,photo_file_name='%s',photo_content_type='%s',photo_data='%s',status_description='%s',is_active=%d,is_deleted=%d,created_at='%s',updated_at='%s',has_paid_fees=%d,photo_file_size=%d,user_id=%d WHERE id=%d ",
            mysql_real_escape_string($studentIn->getAdmission_no()), mysql_real_escape_string($studentIn->getClass_roll_no()), mysql_real_escape_string($studentIn->getAdmission_date()), mysql_real_escape_string($studentIn->getFirst_name()), mysql_real_escape_string($studentIn->getMiddle_name()), mysql_real_escape_string($studentIn->getLast_name()), mysql_real_escape_string($studentIn->getBatch_id()), mysql_real_escape_string($studentIn->getDate_of_birth()), mysql_real_escape_string($studentIn->getGender()), mysql_real_escape_string($studentIn->getBlood_group()), mysql_real_escape_string($studentIn->getBirth_place()), mysql_real_escape_string($studentIn->getNationality_id()), mysql_real_escape_string($studentIn->getLanguage()), mysql_real_escape_string($studentIn->getReligion()), mysql_real_escape_string($studentIn->getStudent_category_id()), mysql_real_escape_string($studentIn->getAddress_line1()), mysql_real_escape_string($studentIn->getAddress_line2()), mysql_real_escape_string($studentIn->getCity()), mysql_real_escape_string($studentIn->getState()), mysql_real_escape_string($studentIn->getPin_code()), mysql_real_escape_string($studentIn->getCountry_id()), mysql_real_escape_string($studentIn->getPhone1()), mysql_real_escape_string($studentIn->getPhone2()), mysql_real_escape_string($studentIn->getEmail()), mysql_real_escape_string($studentIn->getImmediate_contact_id()), mysql_real_escape_string($studentIn->getIs_sms_enabled()), mysql_real_escape_string($studentIn->getPhoto_file_name()), mysql_real_escape_string($studentIn->getPhoto_content_type()), mysql_real_escape_string($studentIn->getPhoto_data()), mysql_real_escape_string($studentIn->getStatus_description()), mysql_real_escape_string($studentIn->getIs_active()), mysql_real_escape_string($studentIn->getIs_deleted()), mysql_real_escape_string($studentIn->getCreated_at()), mysql_real_escape_string($studentIn->getUpdated_at()), mysql_real_escape_string($studentIn->getHas_paid_fees()), mysql_real_escape_string($studentIn->getPhoto_file_size()), mysql_real_escape_string($studentIn->getUser_id()), $studentIn->getId());

        $this->db->executeQuery($SQL);

    }

    /** GET ALL DATA FROM THE TABLE students */
    function getAllStudent()
    {
        $SQL = "SELECT * FROM students";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        return $result;

    }

    /** GET ALL DATA BY STATUS FROM THE TABLE students */
    function getAllStudentByStatus()
    {
        $SQL = "SELECT * FROM students WHERE status = 'Yes'";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        return $result;

    }

    /** GET ALL DATA BY ID DESC FROM THE TABLE students */
    function getAllStudentByIdDesc()
    {
        $SQL = "SELECT * FROM students ORDER BY id DESC";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        return $result;

    }

    /** GET ONE DATA BY ID FROM THE TABLE students */
    function getOneStudentById($id)
    {
        $SQL = "SELECT * FROM students WHERE id = '$id'";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        if (count($result) > 0) {
            return $result[0];
        } else {
            return null;
        }
    }

    /** GET DATA BY ID, STATUS FROM THE TABLE students */
    function getAllStudentById_Status($id)
    {
        $SQL = "SELECT * FROM students WHERE id = '$id' AND status = 'Yes'";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        if (count($result) > 0) {
            return $result[0];
        } else {
            return null;
        }
    }

    /** GET LAST RECORD FROM THE TABLE students */
    function getLastRec($field)
    {
        $SQL = "SELECT * FROM students ORDER BY $field DESC LIMIT 1";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        if (count($result) > 0) {
            return $result[0];
        } else {
            return null;
        }
    }

    /** GET DATA ORDER BY ORDER_NO, STATUS FROM THE TABLE students */
    function getAllStudent_By_Status_ORDER_BY_Order_no()
    {
        $SQL = "SELECT * FROM students WHERE status = 'Yes' ORDER BY CAST(order_no AS DECIMAL)";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        return $result;

    }

    /** GET DATA BY ID, STATUS ORDER BY ORDER_NO FROM THE TABLE students */
    function getStudent_By_Id_Status_ORDER_BY_Order_no()
    {
        $SQL = "SELECT * FROM students WHERE id = '$id' AND status = 'Yes' ORDER BY CAST(order_no AS DECIMAL)";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        if (count($result) > 0) {
            return $result[0];
        } else {
            return null;
        }
    }

    /** GET DATA MAXIMUM ORDER NO FROM THE TABLE students */
    function getLastOrderNo()
    {
        $SQL = "SELECT MAX(CAST(order_no AS DECIMAL)) AS max_order_no FROM students";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $student->setMax_order_no($rs['max_order_no']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        if (count($result) > 0) {
            return $result[0];
        } else {
            return null;
        }
    }

    function getStudent_By_Adminssion_no_First_name($admission_no, $first_name)
    {
        $SQL = "SELECT * FROM students WHERE admission_no = '$admission_no' AND first_name = '$first_name'";
        $this->db->executeQuery($SQL);

        $result = array();
        $count = 0;

        while ($rs = $this->db->nextRecord()) {
            $student = new Student();
            $student->setId($rs['id']);
            $student->setAdmission_no($rs['admission_no']);
            $student->setClass_roll_no($rs['class_roll_no']);
            $student->setAdmission_date($rs['admission_date']);
            $student->setFirst_name($rs['first_name']);
            $student->setMiddle_name($rs['middle_name']);
            $student->setLast_name($rs['last_name']);
            $student->setBatch_id($rs['batch_id']);
            $student->setDate_of_birth($rs['date_of_birth']);
            $student->setGender($rs['gender']);
            $student->setBlood_group($rs['blood_group']);
            $student->setBirth_place($rs['birth_place']);
            $student->setNationality_id($rs['nationality_id']);
            $student->setLanguage($rs['language']);
            $student->setReligion($rs['religion']);
            $student->setStudent_category_id($rs['student_category_id']);
            $student->setAddress_line1($rs['address_line1']);
            $student->setAddress_line2($rs['address_line2']);
            $student->setCity($rs['city']);
            $student->setState($rs['state']);
            $student->setPin_code($rs['pin_code']);
            $student->setCountry_id($rs['country_id']);
            $student->setPhone1($rs['phone1']);
            $student->setPhone2($rs['phone2']);
            $student->setEmail($rs['email']);
            $student->setImmediate_contact_id($rs['immediate_contact_id']);
            $student->setIs_sms_enabled($rs['is_sms_enabled']);
            $student->setPhoto_file_name($rs['photo_file_name']);
            $student->setPhoto_content_type($rs['photo_content_type']);
            $student->setPhoto_data($rs['photo_data']);
            $student->setStatus_description($rs['status_description']);
            $student->setIs_active($rs['is_active']);
            $student->setIs_deleted($rs['is_deleted']);
            $student->setCreated_at($rs['created_at']);
            $student->setUpdated_at($rs['updated_at']);
            $student->setHas_paid_fees($rs['has_paid_fees']);
            $student->setPhoto_file_size($rs['photo_file_size']);
            $student->setUser_id($rs['user_id']);
            $result[$count++] = $student;
        }

        $this->db->closeRs();
        if (count($result) > 0) {
            return $result[0];
        } else {
            return null;
        }
    }

    /** DELETE VALUE BY ID FROM THE TABLE students */
    function deleteStudentById($id)
    {
        $SQL = "DELETE FROM students WHERE id='$id'";
        $this->db->executeQuery($SQL);

    }

    function __destruct()
    {
        $this->db->close();
    }

}

?>